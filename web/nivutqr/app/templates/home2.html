<html>
  <head>
    {% if title %}
    <title>{{ title }} - NivutQR</title>
    {% else %}
    <title>Welcome to NivutQR</title>
    {% endif %}
<link href="..\..\static\css\bootstrap.min.css" rel="stylesheet"/>
      <link href="..\..\static\css\bootstrap.min.css" rel="stylesheet"/>
      <link href="..\..\static\css\footable.bootstrap.css" rel="stylesheet"/>
      <link href="..\..\static\css\footable.editing.css" rel="stylesheet"/>
    <script src="..\..\static\js\jquery.js"></script>
      <script src="https://momentjs.com/downloads/moment.min.js"></script>
      <script src="..\..\static\js\footable.js"></script>
      <script src="..\..\static\js\footable.editing.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.js"></script>

  </head>
  <body>

    <!-- Table Markup -->
<table class="footable" data-sorting="true" data-paging="true" data-editing="true" >
	<thead>
		<tr>
			<th data-breakpoints="xs" data-type="number">ID</th>
			<th>Name</th>
			<th data-breakpoints="xs sm md" data-type="boolean">Questions</th>
            <th data-breakpoints="xs sm md" data-type="boolean">Freeorder</th>
			<th>Checkpoints</th>
			<th data-breakpoints="xs sm">Time Limit</th>
			<th data-breakpoints="xs sm">Results</th>
            <th data-breakpoints="xs sm">Clear</th>
		</tr>
	</thead>
	<tbody>

      <tr>
     <th data-name="ID" data-breakpoints="xs" data-type="number">ID</th>
        <td data-name="Name">Name</td>
        <td data-breakpoints="xs sm md" data-type="boolean">Questions</td>
        <td data-breakpoints="xs sm md" data-type="boolean">Freeorder</td>
        <td>Checkpoints</td>
        <td data-breakpoints="xs sm">Time Limit</td>
        <td data-breakpoints="xs sm">Results</td>
        <td data-breakpoints="xs sm">Clear</td>
      </tr>

	  <!--{% for game in games %}-->
      <!--<tr>-->
        <!--<td><a href="/game/{{game.game_id}}">{{game.game_id}}</a></td>-->
        <!--<td><a href="/game/{{game.game_id}}">{{game.name}}</a></td>-->
        <!--<td align="center">{%- if game.is_questions -%}<span class="glyphicon glyphicon-ok-circle" />{% else %}<span />{% endif %}</td>-->
        <!--<td align="center">{%- if game.is_freeorder -%}<span class="glyphicon glyphicon-ok-circle" />{% else %}<span />{% endif %}</td>-->
        <!--<td><a href="/game/{{game.game_id}}/checkpoints">{{ game.checkpoints.count() }}</a></td>-->
        <!--<td>{{ game.time_limit }}</td>-->
        <!--<td><a href="/game/{{game.game_id}}/results">Results</a></td>-->
        <!--<td><a align="center" type=button value="Clear" onClick="if(confirm('Clear the game results?'))-->
                                <!--document.location.href = '/game/{{game.game_id}}/clear';"><span class="glyphicon glyphicon-trash" /></a></td>-->
      <!--</tr>-->
      <!--{% endfor %}-->
	</tbody>
</table>

  <div class="modal fade" id="editor-modal" tabindex="-1" role="dialog" aria-labelledby="editor-title">
	<style scoped>
		/* provides a red astrix to denote required fields - this should be included in common stylesheet */
		.form-group.required .control-label:after {
			content:"*";
			color:red;
			margin-left: 4px;
		}
	</style>
	<div class="modal-dialog" role="document">
		<form class="modal-content form-horizontal" id="editor">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
				<h4 class="modal-title" id="editor-title">Add Row</h4>
			</div>
			<div class="modal-body">
				<input type="number" id="ID" name="ID" class="hidden"/>
				<div class="form-group required">
					<label for="Name" class="col-sm-3 control-label">Name</label>
					<div class="col-sm-9">
						<input type="text" class="form-control" id="Name" name="Name" placeholder="Name" required>
					</div>
				</div>
            </div>
			<div class="modal-footer">
				<button type="submit" class="btn btn-primary">Save changes</button>
				<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
			</div>
		</form>
	</div>
</div>

  </body>
</html>
<script>

$( document ).ready(function() {
    $('.footable').footable();
});

var $modal = $('#editor-modal'),
	$editor = $('#editor'),
	$editorTitle = $('#editor-title'),
	ft = FooTable.init('#editing-example', {
		editing: {
			enabled: true,
			addRow: function(){
				$modal.removeData('row');
				$editor[0].reset();
				$editorTitle.text('Add a new row');
				$modal.modal('show');
			},
			editRow: function(row){
				var values = row.val();
				$editor.find('#ID').val(values.id);
				$editor.find('#Name').val(values.firstName);

				$modal.data('row', row);
				$editorTitle.text('Edit row #' + values.id);
				$modal.modal('show');
			},
			deleteRow: function(row){
				if (confirm('Are you sure you want to delete the row?')){
					row.delete();
				}
			}
		}
	}),
	uid = 10;

$editor.on('submit', function(e){
	if (this.checkValidity && !this.checkValidity()) return;
	e.preventDefault();
	var row = $modal.data('row'),
		values = {
			id: $editor.find('#ID').val(),
			firstName: $editor.find('#Name').val(),
		};

	if (row instanceof FooTable.Row){
		row.val(values);
	} else {
		values.id = uid++;
		ft.rows.add(values);
	}
	$modal.modal('hide');
});
</script>